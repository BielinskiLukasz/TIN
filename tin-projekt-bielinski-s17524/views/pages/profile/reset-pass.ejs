<%- include('../../fragments/header.ejs') %>

<main>
    <h2>Resetowanie hasła</h2>

    <h3 id="message" class="message-text"><%= message %></h3>

    <div id="login">
        <form class="form" method="post" action="/reset-pass" novalidate onsubmit="return validateForm();">
            <label for="nick">Nick:<abbr title="required" aria-label="required">*</abbr></label>
            <input type="text" name="nick" id="nick" placeholder="2-60 znaków" value="<%= gamer.nick %>"
                class="<%= validationErrors.find(e => e.path.includes('nick')) ? 'error-input' : '' %>" />
            <span id="errorNick" class="errors-text">
                <% if (validationErrors.find(e => e.path.includes('nick'))) { %>
                <%= validationErrors.find(e => e.path.includes('nick')).message %>
                <% } %>
            </span>

            <label for="email">Mail:<abbr title="required" aria-label="required">*</abbr></label>
            <input type="email" name="email" id="email" placeholder="np. nazwa@domena.pl" value="<%= gamer.email %>"
                class="<%= validationErrors.find(e => e.path.includes('email')) ? 'error-input' : '' %>" />
            <span id="errorEmail" class="errors-text">
                <% if (validationErrors.find(e => e.path.includes('email'))) { %>
                <%= validationErrors.find(e => e.path.includes('email')).message %>
                <% } %>
            </span>

            <label for="password">Hasło:<abbr title="required" aria-label="required">*</abbr></label>
            <input type="password" id="password" name="password"
                class="<%= validationErrors.find(e => e.path.includes('password')) ? 'error-input' : '' %>">
            <span id="errorPassword" class="errors-text">
                <% if (validationErrors.find(e => e.path.includes('password'))) { %>
                <%= validationErrors.find(e => e.path.includes('password')).message %>
                <% } %>
            </span>

            <div class="form-buttons">
                <p id="errorsSummary" class="errors-text"></p>
                <input class="form-button-login" type="submit" value="Zresetuj hasło">
                <a class="form-button-cancel" href="/">Anuluj</a>
            </div>
        </form>
    </div>

</main>

<%- include('../../fragments/footer.ejs') %>